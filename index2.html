<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <link rel="stylesheet" href="css/bootstrap.css" type="text/css"/>
    <link rel="stylesheet" href="css/styles2.css" type="text/css"/>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.1/jquery.js" type="text/javascript"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/gsap/1.13.2/TweenLite.min.js" type="text/javascript"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/gsap/1.13.2/plugins/CSSPlugin.min.js" type="text/javascript"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/gsap/1.13.2/TimelineLite.min.js" type="text/javascript"></script>
    <title></title>
</head>
<body>
<div id="carousel" class="hero" data-backgrounds="images/firehorse.jpg,images/waterfall.jpg,images/bla.jpg">
    <div class="chart-container">
        <div class="bg"></div>
        <div class="bars">

            <div id="bar1" data-heights="250,70,120">
                <div class="inverted"></div>
                <div class="regular">
                    <div class="bar"></div>
                    <div class="gap"></div>
                </div>
            </div>
            <div id="bar2" data-heights="230,70,120">
                <div class="inverted"></div>
                <div class="regular">
                    <div class="bar"></div>
                    <div class="gap"></div>
                </div>
            </div>
            <div id="bar3" data-heights="60,70,120">
                <div class="inverted"></div>
                <div class="regular">
                    <div class="bar"></div>
                    <div class="gap"></div>
                </div>
            </div>
            <div id="bar4" data-heights="85,70,120">
                <div class="inverted"></div>
                <div class="regular">
                    <div class="bar"></div>
                    <div class="gap"></div>
                </div>
            </div>
            <div id="bar5" data-heights="100,70,120">
                <div class="inverted"></div>
                <div class="regular">
                    <div class="bar"></div>
                    <div class="gap"></div>
                </div>
            </div>
            <div id="bar6" data-heights="135,70,120">
                <div class="inverted"></div>
                <div class="regular">
                    <div class="bar"></div>
                    <div class="gap"></div>
                </div>
            </div>
            <div id="bar7" data-heights="110,70,120">
                <div class="inverted"></div>
                <div class="regular">
                    <div class="bar"></div>
                    <div class="gap"></div>
                </div>
            </div>
            <div id="bar8" data-heights="90,70,120">
                <div class="inverted"></div>
                <div class="regular">
                    <div class="bar"></div>
                    <div class="gap"></div>
                </div>
            </div>
            <div id="bar9" data-heights="280,70,120">
                <div class="inverted"></div>
                <div class="regular">
                    <div class="bar"></div>
                    <div class="gap"></div>
                </div>
            </div>
            <div id="bar10" data-heights="20,70,120">
                <div class="inverted"></div>
                <div class="regular">
                    <div class="bar"></div>
                    <div class="gap"></div>
                </div>
            </div>
            <div id="bar11" data-heights="75,70,120">
                <div class="inverted"></div>
                <div class="regular">
                    <div class="bar"></div>
                    <div class="gap"></div>
                </div>
            </div>
            <div id="bar12" data-heights="250,70,120">
                <div class="inverted"></div>
                <div class="regular">
                    <div class="bar"></div>
                    <div class="gap"></div>
                </div>
            </div>
            <div id="bar13" data-heights="65,70,120">
                <div class="inverted"></div>
                <div class="regular">
                    <div class="bar"></div>
                    <div class="gap"></div>
                </div>
            </div>
            <div id="bar14" data-heights="80,70,120">
                <div class="inverted"></div>
                <div class="regular">
                    <div class="bar"></div>
                    <div class="gap"></div>
                </div>
            </div>
            <div id="bar15" data-heights="250,70,120">
                <div class="inverted"></div>
                <div class="regular">
                    <div class="bar"></div>
                    <div class="gap"></div>
                </div>
            </div>
            <div id="bar16" data-heights="60,70,120">
                <div class="inverted"></div>
                <div class="regular">
                    <div class="bar"></div>
                    <div class="gap"></div>
                </div>
            </div>
            <div id="bar17" data-heights="85,70,120">
                <div class="inverted"></div>
                <div class="regular">
                    <div class="bar"></div>
                    <div class="gap"></div>
                </div>
            </div>
            <div id="bar18" data-heights="100,70,120">
                <div class="inverted"></div>
                <div class="regular">
                    <div class="bar"></div>
                    <div class="gap"></div>
                </div>
            </div>
            <div id="bar19" data-heights="135,70,120">
                <div class="inverted"></div>
                <div class="regular">
                    <div class="bar"></div>
                    <div class="gap"></div>
                </div>
            </div>
            <div id="bar20" data-heights="110,70,120">
                <div class="inverted"></div>
                <div class="regular">
                    <div class="bar"></div>
                    <div class="gap"></div>
                </div>
            </div>
            <!--<div id="bar21" data-heights="250,70,120">-->
                <!--<div class="inverted"></div>-->
                <!--<div class="regular">-->
                    <!--<div class="bar"></div>-->
                    <!--<div class="gap"></div>-->
                <!--</div>-->
            <!--</div>-->
            <!--<div id="bar22" data-heights="250,70,120">-->
                <!--<div class="inverted"></div>-->
                <!--<div class="regular">-->
                    <!--<div class="bar"></div>-->
                    <!--<div class="gap"></div>-->
                <!--</div>-->
            <!--</div>-->
            <!--<div id="bar23" data-heights="250,70,120">-->
                <!--<div class="inverted"></div>-->
                <!--<div class="regular">-->
                    <!--<div class="bar"></div>-->
                    <!--<div class="gap"></div>-->
                <!--</div>-->
            <!--</div>-->
            <!--<div id="bar24" data-heights="250,70,120">-->
                <!--<div class="inverted"></div>-->
                <!--<div class="regular">-->
                    <!--<div class="bar"></div>-->
                    <!--<div class="gap"></div>-->
                <!--</div>-->
            <!--</div>-->
            <!--<div id="bar25" data-heights="250,70,120">-->
                <!--<div class="inverted"></div>-->
                <!--<div class="regular">-->
                    <!--<div class="bar"></div>-->
                    <!--<div class="gap"></div>-->
                <!--</div>-->
            <!--</div>-->
            <!--<div id="bar26" data-heights="250,70,120">-->
                <!--<div class="inverted"></div>-->
                <!--<div class="regular">-->
                    <!--<div class="bar"></div>-->
                    <!--<div class="gap"></div>-->
                <!--</div>-->
            <!--</div>-->
            <!--<div id="bar27" data-heights="250,70,120">-->
                <!--<div class="inverted"></div>-->
                <!--<div class="regular">-->
                    <!--<div class="bar"></div>-->
                    <!--<div class="gap"></div>-->
                <!--</div>-->
            <!--</div>-->
            <!--<div id="bar28" data-heights="250,70,120">-->
                <!--<div class="inverted"></div>-->
                <!--<div class="regular">-->
                    <!--<div class="bar"></div>-->
                    <!--<div class="gap"></div>-->
                <!--</div>-->
            <!--</div>-->
            <!--<div id="bar29" data-heights="250,70,120">-->
                <!--<div class="inverted"></div>-->
                <!--<div class="regular">-->
                    <!--<div class="bar"></div>-->
                    <!--<div class="gap"></div>-->
                <!--</div>-->
            <!--</div>-->
            <!--<div id="bar30" data-heights="250,70,120">-->
                <!--<div class="inverted"></div>-->
                <!--<div class="regular">-->
                    <!--<div class="bar"></div>-->
                    <!--<div class="gap"></div>-->
                <!--</div>-->
            <!--</div>-->
            <!--<div id="bar31" data-heights="250,70,120">-->
                <!--<div class="inverted"></div>-->
                <!--<div class="regular">-->
                    <!--<div class="bar"></div>-->
                    <!--<div class="gap"></div>-->
                <!--</div>-->
            <!--</div>-->
            <!--<div id="bar32" data-heights="250,70,120">-->
                <!--<div class="inverted"></div>-->
                <!--<div class="regular">-->
                    <!--<div class="bar"></div>-->
                    <!--<div class="gap"></div>-->
                <!--</div>-->
            <!--</div>-->
            <!--<div id="bar33" data-heights="250,70,120">-->
                <!--<div class="inverted"></div>-->
                <!--<div class="regular">-->
                    <!--<div class="bar"></div>-->
                    <!--<div class="gap"></div>-->
                <!--</div>-->
            <!--</div>-->
            <!--<div id="bar34" data-heights="250,70,120">-->
                <!--<div class="inverted"></div>-->
                <!--<div class="regular">-->
                    <!--<div class="bar"></div>-->
                    <!--<div class="gap"></div>-->
                <!--</div>-->
            <!--</div>-->
            <!--<div id="bar35" data-heights="250,70,120">-->
                <!--<div class="inverted"></div>-->
                <!--<div class="regular">-->
                    <!--<div class="bar"></div>-->
                    <!--<div class="gap"></div>-->
                <!--</div>-->
            <!--</div>-->
            <!--<div id="bar36" data-heights="250,70,120">-->
                <!--<div class="inverted"></div>-->
                <!--<div class="regular">-->
                    <!--<div class="bar"></div>-->
                    <!--<div class="gap"></div>-->
                <!--</div>-->
            <!--</div>-->
            <!--<div id="bar37" data-heights="250,70,120">-->
                <!--<div class="inverted"></div>-->
                <!--<div class="regular">-->
                    <!--<div class="bar"></div>-->
                    <!--<div class="gap"></div>-->
                <!--</div>-->
            <!--</div>-->
            <!--<div id="bar38" data-heights="250,70,120">-->
                <!--<div class="inverted"></div>-->
                <!--<div class="regular">-->
                    <!--<div class="bar"></div>-->
                    <!--<div class="gap"></div>-->
                <!--</div>-->
            <!--</div>-->
            <!--<div id="bar39" data-heights="250,70,120">-->
                <!--<div class="inverted"></div>-->
                <!--<div class="regular">-->
                    <!--<div class="bar"></div>-->
                    <!--<div class="gap"></div>-->
                <!--</div>-->
            <!--</div>-->
            <!--<div id="bar40" data-heights="250,70,120">-->
                <!--<div class="inverted"></div>-->
                <!--<div class="regular">-->
                    <!--<div class="bar"></div>-->
                    <!--<div class="gap"></div>-->
                <!--</div>-->
            <!--</div>-->
            <!--<div id="bar41" data-heights="250,70,120">-->
                <!--<div class="inverted"></div>-->
                <!--<div class="regular">-->
                    <!--<div class="bar"></div>-->
                    <!--<div class="gap"></div>-->
                <!--</div>-->
            <!--</div>-->
            <!--<div id="bar42" data-heights="250,70,120">-->
                <!--<div class="inverted"></div>-->
                <!--<div class="regular">-->
                    <!--<div class="bar"></div>-->
                    <!--<div class="gap"></div>-->
                <!--</div>-->
            <!--</div>-->
            <!--<div id="bar43" data-heights="250,70,120">-->
                <!--<div class="inverted"></div>-->
                <!--<div class="regular">-->
                    <!--<div class="bar"></div>-->
                    <!--<div class="gap"></div>-->
                <!--</div>-->
            <!--</div>-->
            <!--<div id="bar44" data-heights="250,70,120">-->
                <!--<div class="inverted"></div>-->
                <!--<div class="regular">-->
                    <!--<div class="bar"></div>-->
                    <!--<div class="gap"></div>-->
                <!--</div>-->
            <!--</div>-->
            <!--<div id="bar45" data-heights="250,70,120">-->
                <!--<div class="inverted"></div>-->
                <!--<div class="regular">-->
                    <!--<div class="bar"></div>-->
                    <!--<div class="gap"></div>-->
                <!--</div>-->
            <!--</div>-->
            <!--<div id="bar46" data-heights="250,70,120">-->
                <!--<div class="inverted"></div>-->
                <!--<div class="regular">-->
                    <!--<div class="bar"></div>-->
                    <!--<div class="gap"></div>-->
                <!--</div>-->
            <!--</div>-->
            <!--<div id="bar47" data-heights="250,70,120">-->
                <!--<div class="inverted"></div>-->
                <!--<div class="regular">-->
                    <!--<div class="bar"></div>-->
                    <!--<div class="gap"></div>-->
                <!--</div>-->
            <!--</div>-->
        </div>
    </div>
</div>

<script>
    //        var tl = new TimelineLite();

    function BarChartCarousel(config){
        this.barAnimationDuration = config.barAnimationDuration || 2000;
        this.chartHeight = config.chartHeight || 300;
        this.charts = config.charts || 3;
        this.container = config.container || jQuery('body');
        this.init();
    }

    BarChartCarousel.prototype = {
        init: function(){
            this.backgrounds = this.container.data('backgrounds').split(',');
            this.bars = this.container.find('.bars > div');
            this.regularBarSelector = '.regular';
            this.invertedBarSelector = '.inverted';
            this.setBarData();
            this.resetBars();
            this.setupTimeline();
        },

        setBarData: function(){
            var self = this;

            this.barData = [];
            this.bars.each(function(){
                var bar = jQuery(this);

                self.barData.push({
                    container: bar,
                    regularBar: bar.children(self.regularBarSelector),
                    invertedBar: bar.children(self.invertedBarSelector),
                    heights: bar.data('heights').split(',')
                });
            });
        },

        resetBars: function(){
            this.bars.children(this.regularBarSelector).height(0);
            this.bars.children(this.invertedBarSelector).height(this.chartHeight);
        },

        setupTimeline: function(){
            this.chartsTl = new TimelineLite({ paused: true });

            for(var i = 0; i < this.charts; i++){
                var chartTl = new TimelineLite();

                chartTl.add('myLabel', 0);

                for(var j = 0, len = this.barData.length; j < len; j++){
                    var bar = this.barData[j];

                    chartTl.add(TweenLite.to(bar.regularBar, 2, { height: bar.heights[i] }), 'myLabel');
                    chartTl.add(TweenLite.to(bar.invertedBar, 2, { height: (this.chartHeight - bar.heights[i]) }), 'myLabel');
                }

                this.chartsTl.add(chartTl, 0);
            }
        }
    };

    a = new BarChartCarousel({
        container: jQuery('#carousel')
    });

    a.init();
</script>
</body>
</html>